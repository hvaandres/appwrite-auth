(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6110:function(e,t,s){Promise.resolve().then(s.bind(s,5784))},5784:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Home}});var n=s(7437),a=s(2265),o=s(7332);let r=new o.KU;r.setEndpoint("https://cloud.appwrite.io/v1").setProject("65d6d802d864fc8d393b");let l=new o.mR(r);function Home(){let[e,t]=(0,a.useState)(""),[s,r]=(0,a.useState)(""),[c,i]=(0,a.useState)(null),[u,d]=(0,a.useState)(!0),[h,m]=(0,a.useState)(!1),[f,g]=(0,a.useState)(null);async function handleLogout(){try{m(!0),await l.deleteSession("current"),i(null)}catch(e){g(e.message)}finally{m(!1)}}async function handleLogin(){try{m(!0),await l.createEmailSession(e,s),i(await l.get()),t(""),r(""),g(null)}catch(e){401===e.code?g("Password incorrect, please try one more time"):404===e.code?g("You currently don't have an account with us, please click on register"):g(e.message)}finally{m(!1)}}async function handleRegister(){try{m(!0),await l.create(o.ID.unique(),e,s),await handleLogin(),g(null)}catch(e){107===e.code?g("You already have an account created with us"):g(e.message)}finally{m(!1)}}return((0,a.useEffect)(()=>{(async function(){try{i(await l.get()),d(!1)}catch(e){console.error(e),d(!1)}})()},[]),u)?(0,n.jsx)("div",{className:"bg-gray-800 p-8 max-w-sm mx-auto rounded-lg shadow-md mt-10",children:(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsxs)("svg",{className:"animate-spin h-6 w-6 text-blue-500 mr-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,n.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,n.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,n.jsx)("p",{className:"text-white font-semibold text-lg",children:"Loading user..."})]})}):c?(0,n.jsxs)("div",{className:"bg-gray-800 p-8 max-w-sm mx-auto rounded-lg shadow-md mt-10",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("svg",{className:"h-6 w-6 text-blue-500 mr-4",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{d:"M5 13l4 4L19 7"})}),(0,n.jsx)("p",{className:"text-white font-semibold text-lg",children:"You're already logged in"})]}),(0,n.jsx)("button",{onClick:handleLogout,className:"w-full m-3 p-3 bg-red-600 hover:bg-red-700 text-white rounded-md focus:outline-none focus:ring focus:ring-red-200 focus:ring-opacity-50",children:"Logout"})]}):(0,n.jsxs)("main",{className:"dark:black min-h-screen flex flex-col items-center justify-center p-10 relative",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-white mb-6",children:"Log In or Sign Up Page"}),f&&(0,n.jsx)("div",{className:"text-red-500 mb-4",children:f}),(0,n.jsxs)("form",{className:"space-y-6 w-72 ".concat(h?"blur":""),children:[(0,n.jsx)("input",{type:"email",placeholder:"Email",value:e,onChange:e=>t(e.target.value),className:"dark:bg-black dark:text-white w-full p-3 rounded-md border border-white focus:border-blue-500 focus:outline-none focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),(0,n.jsx)("input",{type:"password",placeholder:"Password",value:s,onChange:e=>r(e.target.value),className:"dark:bg-black dark:text-white w-full p-3 rounded-md border border-white focus:border-blue-500 focus:outline-none focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),(0,n.jsxs)("div",{className:"flex space-x-4",children:[(0,n.jsx)("button",{type:"button",onClick:handleLogin,disabled:h,className:"w-full p-3 rounded-md border border-white text-white hover:bg-white hover:text-black focus:outline-none focus:ring focus:ring-blue-200 focus:ring-opacity-50",children:"Login"}),(0,n.jsx)("button",{type:"button",onClick:handleRegister,disabled:h,className:"w-full p-3 rounded-md border border-white text-white hover:bg-white hover:text-black focus:outline-none focus:ring focus:ring-blue-200 focus:ring-opacity-50",children:"Register"})]})]}),h&&(0,n.jsx)("div",{className:"watch-container",children:(0,n.jsx)("div",{className:"watch"})})]})}}},function(e){e.O(0,[670,971,864,744],function(){return e(e.s=6110)}),_N_E=e.O()}]);